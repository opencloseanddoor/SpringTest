<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.asm.spring.test.mybatis.repository.RealEstateRepository">
	<select id="selectRealEstate" resultType="com.asm.spring.test.mybatis.domain.RealEstate"
	parameterType="int">
		SELECT 
			`id`
		,	`realtorId`
		,	`address`
		,	`area`
		,	`type`
		,	`price`
		,	`rentPrice`
		,	`createdAt`
		,	`updatedAt`
		
		FROM `real_estate`
		WHERE id = #{id}
	</select>
	
	<select id="selectRealEstate2" resultType="com.asm.spring.test.mybatis.domain.RealEstate"
	parameterType="map">
	SELECT 
			`id`
		,	`realtorId`
		,	`address`
		,	`area`
		,	`type`
		,	`price`
		,	`rentPrice`
		,	`createdAt`
		,	`updatedAt`
		
		FROM `real_estate`
		<!-- WHERE <![CDATA[`rentPrice` >= 30Â ]]> -->
		 
	</select>
	
	<select id="selectRealEstate3" resultType="com.asm.spring.test.mybatis.domain.RealEstate"
	parameterType="int">
		SELECT 
			`id`
		,	`realtorId`
		,	`address`
		,	`area`
		,	`type`
		,	`price`
		,	`rentPrice`
		,	`createdAt`
		,	`updatedAt`
		
		FROM `real_estate`
		
		WHERE 
		<!--  <![CDATA[
			area >= #{area}
			AND 
			price = #{price}
		]]> -->
			
		ORDER BY `createdAt` DESC
	</select>
	
	<insert id="insertByRealEstateObject" parameterType="com.asm.spring.test.mybatis.domain.RealEstate">
		INSERT
			`real_estate`
			(
					`realtorId`
				,	`address`
				,	`area`
				,	`type`
				,	`price`
				,	`rentPrice`
			)
			
			VALUE
			(
					#{realtorId}
				,	#{address}
				,	#{area}
				,	#{type}
				,	#{price}
				,	#{rentPrice}
			)
	</insert>
	
	<insert id="insertRealEstateByElement" parameterType="map">
		INSERT
			`real_estate`
			(
					`realtorId`
				,	`address`
				,	`area`
				,	`type`
				,	`price`
				,	`rentPrice`
			)
			
			VALUE
			(
					#{realtorId}
				,	#{address}
				,	#{area}
				,	#{type}
				,	#{price}
				,	#{rentPrice}
			)
	</insert>
</mapper>